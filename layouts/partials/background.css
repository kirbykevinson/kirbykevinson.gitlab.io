{{ define "background" }}
	{{ if .page.Params.background }}
		--background-image:
			{{ if .page.Params.backgroundFallback }}
				{{ .page.Params.backgroundFallback }}
			{{ end }}
			url("/images/backgrounds/{{ .page.Params.background }}.png");
		
		{{ if eq .page.Params.backgroundScrollDirection "xy" }}
			--background-animation: var(--background-scroll-xy);
		{{ else if eq .page.Params.backgroundScrollDirection "x" }}
			--background-animation: var(--background-scroll-x);
		{{ else if eq .page.Params.backgroundScrollDirection "y" }}
			--background-animation: var(--background-scroll-y);
		{{ end }}
	{{ else if .page.Parent }}
		{{ template "background" (dict "page" .page.Parent) }}
	{{ end }}
{{ end }}

:root {
	{{ template "background" (dict "page" .) }}
}
